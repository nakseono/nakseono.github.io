// Primary site layout for Centrarium Theme

/*
*	Globals
*/
html, body {
	margin: 0;
	padding: 0;
	width: 100%;
}

ol.default {
  @extend %default-ol;
}

ul.default {
	@extend %default-ul;
}

code {
	background-color: $off-white;
	display: inline-block;
	border-radius: $base-border-radius;
	padding: 2px $spacing-xs * 0.75;
	font-size: 0.92em;
	border: 1px solid $light-gray;
	font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
}

blockquote {
	color: $dark-gray;
	font-style: italic;
	border-left: 3px solid $dark-gray;
	margin-left: 0;
	padding-left: $spacing-md;
	font-size: 1.05em;
	line-height: 1.8;
}

pre code.hljs {
	font-size: modular-scale(-1);
	border: none;
	background-color: $off-white;
	padding: $spacing-md;
	border-radius: $base-border-radius;
	line-height: 1.6;
	font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
}

pre {
	margin: $spacing-md 0;
	overflow-x: auto;
}

.page-divider {
	$divider-color: $light-gray;
  display: block;
  width: 100%;
  margin: 0 auto;

  // border를 내부 요소로 이동
  &::before {
    content: '';
    display: block;
    width: 100%;
    border-top: 1px solid $divider-color;
  }

  .one {
    position: relative;
    top: -9px;
    display: block;
    background: $divider-color;
    width: 18px;
    height: 18px;
    margin-left: auto;
    margin-right: auto;
    border-radius: 50%;
  }

  .two {
    position: relative;
    top: -26px;
    display: block;
    background: $white;
    width: 16px;
    height: 16px;
    margin-left: auto;
    margin-right: auto;
    border-radius: 50%;
  }
}

.tooltip {
	border-bottom: 1px dotted $medium-gray;
}


.site-header-container, .post-header-container {
	width: 100%;
	text-align: center;
	&.has-cover {
		color: $dark-gray;
		text-shadow: none;
		background-position: 50% 50%;
		background-size: cover;
		background-color: $off-white;
		.title {
			font-size: modular-scale(6);
		}
		.subtitle, .info {
			font-size: modular-scale(1);
		}
	}
	.scrim {
		padding: $spacing-xl $spacing-sm;

		&.has-cover {
			background-color: rgba(0, 0, 0, 0.2);
			padding: $spacing-xxl * 1.5 $spacing-sm !important;

			@include media($tablet) {
				padding: $spacing-xxl * 2.25 $spacing-sm !important;
			}
		}
	}
}

/*
*	Header - Medium style
*/
.navigation {
	box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
	padding: 0;
	margin: 0;
	// Remove this to make header scrollable again
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	background: $white;
	z-index: 1;
	border-bottom: 1px solid $light-gray;
	/*
	*	Navigation Menu - http://refills.bourbon.io/unstyled/ (see "Navigation")
	*/
  // Mobile view
  .navigation-menu-button {
    display: block;
    float: right;
    margin: 0;
    font-size: 1.5em;
    padding-top: $spacing-xs;

    @include media($tablet) {
      display: none;
    }
  }
  // Nav menu
  .navigation-wrapper {
  	@include outer-container;
    @include clearfix;
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 $spacing-sm;

    @include media($tablet) {
      padding: 0 $spacing-lg * 1.25;
    }

    @include media($desktop) {
      padding: 0 $spacing-xl * 1.75;
    }
  }
  .logo {
    float: left;
    height: 4em;
    line-height: 4em;
    text-decoration: none;
    span {
    	font-size: 1.25em;
    	font-weight: 600;
    	font-family: $heading-font-family;
    }
    color: $dark-gray;
    &:hover {
      color: $action-color;
      text-decoration: none;
    }
  }
  nav {
    float: none;
    padding: $spacing-md * 0.83 0;

    @include media($tablet) {
      float: right;
      line-height: 1.5em;
    }
  }
  ul.navigation-menu {
    clear: both;
    display: none;
    margin: 0 auto;
    overflow: visible;
    padding: 0;
    width: 100%;

    @include media($tablet) {
      display: block;
      margin: 0;
      padding: 0;
    }

    &.show {
      display: block;
    }
  }
  // Nav items
  ul li.nav-link {
    display: block;
    text-align: right;
    width: 100%;
    padding: $spacing-xs * 0.5 0;

    @include media($tablet) {
      background: transparent;
      display: inline;
      text-decoration: none;
      width: auto;
    }
  }
  li.nav-link {
  	a {
	    display: inline-block;
	    text-decoration: none;
	    color: $dark-gray;
	    font-weight: 500;
	    font-family: $heading-font-family;
	    transition: color 0.2s ease;

	    &:hover {
	      color: $action-color;
	    }

	    @include media($tablet) {
	      padding-right: $spacing-md;
	    }
	  }

	  &:last-child a {
	  	@include media($tablet) {
    		padding-right: $spacing-sm;
    	}
    }
  }
}

/*
*	Body
*/
.page-content {
	// Remove this to make header scrollable again
	margin-top: 66px;

	.wrapper {
		@include outer-container;
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 $spacing-md;

		@include media($tablet) {
			padding: 0 $spacing-xl;
		}

		@include media($desktop) {
			padding: 0 $spacing-xxl;
		}
	}
	/*
	*	index.html
	*/
	.home-header {
		text-align: center;
		border-bottom: 1px solid $light-gray;
		padding: $spacing-xl 0;

		@include media($tablet) {
			padding: $spacing-xxl 0;
		}

		.home-title {
			font-size: 2em;
			font-weight: 700;
			margin: 0 0 $spacing-xs 0;
			color: $dark-gray;
			letter-spacing: -0.02em;
		}

		.home-subtitle {
			font-size: 1.1em;
			color: $medium-gray;
			margin: 0;
			line-height: 1.6;
		}
	}

	.post-list {
		@extend %default-ul;

		li {
			border-bottom: 1px solid $light-gray;
			padding-bottom: $spacing-lg * 1.25;

			@include media($tablet) {
				padding-bottom: $spacing-xl;
			}

			&:last-child {
				border-bottom: none;
			}

			&.post-item {
				cursor: pointer;
				transition: transform 0.2s ease;
				margin-bottom: 0;
				padding-top: $spacing-md;
				padding-bottom: $spacing-md;

				&:hover {
					transform: translateY(-4px);
				}
			}
		}

		h2 {
			margin-top: 0.5rem;
			margin-bottom: 0.75em;
			font-size: 1.6em;
			line-height: 1.4;
			font-weight: 700;

			a {
				text-decoration: none;
				color: $dark-gray;
				transition: color 0.2s ease;

				&:hover {
					color: $action-color;
				}
			}
		}

		.post-excerpt {
			margin-bottom: $spacing-sm;
			color: $medium-gray;
			line-height: 1.7;

			p {
				margin: 0;
				display: -webkit-box;
				-webkit-line-clamp: 3;
				-webkit-box-orient: vertical;
				overflow: hidden;
				text-overflow: ellipsis;
			}
		}

		// Legacy support for h3 links
		h3 a {
			text-decoration: none;
			color: $dark-gray;
			font-weight: 700;
			transition: color 0.2s ease;

			&:hover {
				color: $action-color;
			}
		}

		hr {
			display: none;
		}
	}
	.post-meta {
		color: $medium-gray;
		font-size: 0.9em;
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: $spacing-xs;

		.post-date {
			text-align: left;
			font-size: 1em;
		}

		.post-categories {
			text-align: right;
			font-size: 1em;

			a {
				color: $medium-gray;
				text-decoration: none;
				transition: color 0.2s ease;

				&:hover {
					color: $action-color;
				}
			}
		}
	}

	.pagination {
		padding-top: $spacing-lg;
		text-align: center;
		color: $medium-gray;

		.page-number {
			padding: 0 $spacing-sm;
		}

		a.newer-posts {
			text-decoration: none;
		}
	}

	.loading-indicator,
	.no-more-posts {
		text-align: center;
		padding: $spacing-lg 0 $spacing-xl 0;
		color: $medium-gray;
		font-size: 0.95em;

		p {
			margin: 0;
		}
	}

	.loading-indicator {
		p {
			position: relative;
			display: inline-block;
			padding-left: $spacing-md;

			&:before {
				content: '';
				position: absolute;
				left: 0;
				top: 50%;
				transform: translateY(-50%);
				width: 1em;
				height: 1em;
				border: 2px solid $light-gray;
				border-top-color: $action-color;
				border-radius: 50%;
				animation: spin 0.8s linear infinite;
			}
		}
	}

	@keyframes spin {
		to {
			transform: translateY(-50%) rotate(360deg);
		}
	}

	.no-more-posts {
		p {
			font-style: italic;
		}
	}
	.site-header-container {
		color: $dark-gray;
		text-shadow: none;
		background-color: $white;
		.site-header{
			.title {
				font-size: modular-scale(6);
			}
			.subtitle {
				font-style: italic;
				font-size: modular-scale(1);
			}
		}
	}
	img {
		display: block;
		margin: auto;
		width: 90%;
	}
	/*
	*	Posts
	*/
	.post {
		ul {
			margin-bottom: $spacing-sm;
		}

		.post-header-container {
			.scrim {
				max-width: 1200px;
				margin: 0 auto;
				padding: $spacing-xxl * 1.25 $spacing-md $spacing-sm;

				@include media($tablet) {
					padding: $spacing-xxl * 1.25 $spacing-xl $spacing-sm;
				}

				@include media($desktop) {
					padding: $spacing-xxl * 1.25 $spacing-xxl $spacing-sm;
				}
			}

			.post-meta {
				max-width: 1200px;
				margin: 0 auto;
				color: $dark-gray;
				padding: $spacing-sm $spacing-md $spacing-lg;

				@include media($tablet) {
					padding: $spacing-sm $spacing-xl $spacing-lg;
				}

				@include media($desktop) {
					padding: $spacing-sm $spacing-xxl $spacing-lg;
				}
			}
		}

		.post-content {
			padding: $spacing-lg 0;
			font-size: 1.05em;

			// Better paragraph spacing
			> p {
				margin-bottom: $spacing-md;
			}

			// Better list spacing
			ul, ol {
				margin-bottom: $spacing-md;
				padding-left: $spacing-md;

				li {
					margin-bottom: $spacing-xs;
					line-height: $spacing-md;
				}
			}
		}
		.tags {
			font-size: 0.9em;
		}
		.rss {
			margin: $spacing-sm 0 0 0;
			@include span-columns(12);

			@include media($tablet) {
				margin: $spacing-sm 0;
				@include span-columns(6);
			}
		}

		.share {
			font-weight: bold;
			margin: 0 0 $spacing-sm 0;
			@include span-columns(12);

			@include media($tablet) {
				@include span-columns(6);
				margin: $spacing-sm 0;
				text-align: right;
			}

			a {
				width: 1em;
				padding: 0 $spacing-xs * 0.5;
				text-decoration: none;
			}
		}

		.disqus {
			@include span-columns(12);
		}

		.post-navigation {
			font-size: 0.9em;
			display: block;
			width: auto;

			.prev-post {
				display: block;
				width: 50%;
				float: left;
				margin: $spacing-sm 0;
			}

			.next-post {
				display: block;
				width: 50%;
				float: left;
				margin: $spacing-sm 0;
				text-align: right;
			}
		}
	}
	/*
	*	Pages
	*/
	.page {
		.post-header {
			padding: $spacing-xl 0;
			text-align: center;

			@include media($tablet) {
				padding: $spacing-xxl 0;
			}
		}

		.posts-list {
			@extend %default-ul;

			li {
				padding: modular-scale(-4);
				padding-left: 0;
			}

			.desc {
				font-size: 0.9em;
			}

			.post-date {
				color: $medium-gray;
			}
		}

		.profile {
			max-width: 320px;
			width: 100%;
			height: auto;
			margin: auto;
			padding-bottom: $spacing-xs;
			display: block;
 		}

		.contact-links {
			margin-top: $spacing-lg * 1.25;
			margin-bottom: $spacing-xl;
			padding-top: $spacing-lg;
			padding-bottom: $spacing-lg;
			border-top: 1px solid $light-gray;
			display: flex;
			flex-direction: column;
			gap: $spacing-sm;
			align-items: flex-start;

			@include media($tablet) {
				flex-direction: row;
				justify-content: center;
				gap: $spacing-lg * 1.25;
				margin-bottom: $spacing-xxl;
			}

			.contact-link {
				display: flex;
				align-items: center;
				gap: $spacing-xs;
				text-decoration: none;
				color: $dark-gray;
				font-size: 0.95em;
				transition: all 0.2s ease;

				&:hover {
					color: $action-color;

					svg {
						transform: translateY(-2px);
					}
				}

				svg {
					flex-shrink: 0;
					transition: transform 0.2s ease;
				}

				span {
					line-height: 1;
				}
			}
		}
	}
}

/*
*	Footer - Medium style
*/
.site-footer {
	$link-color: $dark-gray;
	background-color: $off-white;
	color: $dark-gray;
	border-top: 1px solid $light-gray;
	padding: $spacing-lg $spacing-md $spacing-xl $spacing-md;

	@include media($tablet) {
		padding: $spacing-lg * 1.25 $spacing-lg $spacing-xl * 1.75 $spacing-lg;
	}

	@include media($desktop) {
		padding: $spacing-xl $spacing-lg $spacing-xxl $spacing-lg;
	}

	a {
	  color: $link-color;
	  &:active,
	  &:focus,
	  &:hover {
	    color: $link-hover;
	  }
	  &:active,
	  &:focus {
	    outline: none;
	  }
	}
	.wrapper {
		@include outer-container;
		max-width: 1200px;
		margin: 0 auto;
	}
	/*
	*	Site Navigation (left)
	*/
	.site-navigation {
		@include span-columns(12);
		@include media ($mobile) {
			@include span-columns(6);
		}
		@include media ($tablet) {
			@include span-columns(4);
		}
		font-size: 0.9em;
		ul {
			@extend %default-ul;
		}
	}
	/*
	*	Contact Info (center)
	*/
	.site-contact {
		@include span-columns(12);
		font-size: 0.9em;
		margin-top: $spacing-sm;

		@include media($mobile) {
			@include span-columns(6);
			margin-right: 0;
			margin-top: 0;
		}

		@include media($tablet) {
			@include span-columns(4);
		}

		i {
			width: 1.25em;
			text-align: center;
		}

		ul {
			@extend %default-ul;
		}
	}

	/*
	*	Site Description/Signature (right)
	*/
	.site-signature {
		@include span-columns(12);
		font-size: 0.9em;
		margin-top: $spacing-sm;

		@include media($tablet) {
			@include span-columns(4);
			margin-right: 0;
			margin-top: 0;
		}

		a {
			text-decoration: underline;
		}
	}
}
