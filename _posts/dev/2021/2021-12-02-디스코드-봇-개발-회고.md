---
layout: post
title: 디스코드 봇 개발 회고
date: 2021-12-02
categories: dev
---

약 한 달 반 동안 디스코드 봇을 개발했습니다.

원래 하던 React로 웹을 만드는 게 아닌 discord.js라는 라이브러리로 개발하면서 참 많은 일을 겪었습니다. 아래는 제가 느낀 점입니다.

---

## 프로젝트 개요

### 믹스테잎 봇을 만든 이유

로스트아크라는 게임을 플레이하면서 다음과 같은 불편함을 느꼈습니다:

- 캐릭터 정보를 검색하려면 브라우저를 켜야 함
- 사건/사고 게시판을 확인하려면 인벤에 접속해야 함
- 경매 금액을 계산하려면 계산기를 켜야 함

여유 시간이 그리 많지 않은 상황에서 이런 과정들이 불편했고, **항시 켜져있는 디스코드에서 처리하는 게 훨씬 좋을 것 같아** 만들게 되었습니다.

### 주요 기능

1. **정보** - 전투정보실에서 해당 캐릭터의 정보를 불러와 보여줍니다.
2. **로아와** - 해당 캐릭터의 정보를 볼 수 있는 로아와 링크를 전달해줍니다. (디스코드에서 보는 것보다 더 많은 정보를 볼 수 있습니다.)
3. **정산** - 입력한 캐릭터의 서버를 기준으로 보유한 캐릭터의 목록과 주간 레이드 수입을 정산해줍니다.
4. **사사게** - 로스트아크 인벤의 사건/사고 게시판에서 입력한 닉네임을 검색한 결과를 출력해줍니다.
5. **경매** - 얼마까지 입찰해야 경매장 수수료를 계산했을 때 손해를 안 보는지 계산해줍니다.
6. **분배** - 얼마를 입찰해야 같이 들어간 공대원들과 1/N으로 나눌 수 있는지 계산해줍니다.
7. **이벤트 리스트** - 현재 진행 중인 이벤트 리스트를 출력해줍니다.
8. **알람 기능** - 특정 시간에 알림을 보내줍니다.

### 반응

로스트아크 인벤에 올렸을 때 생각보다 큰 호응을 얻었습니다.

- **조회수 16,637** / **추천 172개** (21.11.15 기준)
- **공개한 지 30분 만에 250개의 서버 할당량을 모두 채움**
- 서버 좀 더 열어달라고 디스코드 DM창이 불탔습니다.

이렇게까지 잘될 줄 몰랐습니다.

---

## 기술적인 측면에서 배운 것들

### 1) 처음 써보는 라이브러리를 사용해 누군가의 가르침 없이 직접 개발했습니다

**이번 프로젝트를 하며 가장 많이 뿌듯함을 느꼈던 부분입니다.**

물론 이전에 언급했던 개발자 친구들의 도움이 없었다고 하면 거짓말이지만, 너무 막히는 몇몇 기능들을 제외하면 모두 제가 개발했습니다.

discord.js의 공식 문서가 너무너무 불친절해서, 오히려 공식 문서를 보는 실력보다는 **구글링 실력이 훨씬 많이 늘은 느낌**입니다.

**배운 점:**

- 공식 문서가 불친절하더라도 포기하지 않고 읽다 보면 이해할 수 있습니다.
- 에러 메시지를 정확히 읽고 구글링하는 능력이 중요합니다.
- Stack Overflow, GitHub Issues 등을 적극 활용하는 법을 배웠습니다.

### 2) 거리감이 좀 있던 EC2를 사용해봤습니다

예전에 GCP로 24시간 마인크래프트 서버 여는 것과 별반 다르지 않아 수월하게 작업했습니다.

**배운 점:**

- AWS도 생각보다 어렵지 않았습니다.
- 서버를 띄우고 관리하는 기본적인 DevOps 지식을 얻었습니다.
- 보안 그룹 설정, SSH 접속 등 기본적인 서버 관리를 경험했습니다.

### 3) HTML 데이터를 파싱해와서 원하는 형태로 가공할 수 있게 되었습니다

로스트아크 인벤 사건/사고 게시판을 크롤링하기 위해 HTML 파싱을 배웠습니다.

**배운 점:**

- Cheerio, Puppeteer 같은 라이브러리 사용법을 익혔습니다.
- CSS Selector를 이용한 데이터 추출 방법을 배웠습니다.
- 나중에 크롤링 하게 되면 많이 쓰일 것 같습니다.

### 4) 생전 써본 적 없던 AWS Lambda 서비스를 사용해봤습니다

하지만 이건 봇 서버가 켜져있건 꺼져있건 Discord 자체적으로 제공하는 webhook을 이용하는 방식이라 제가 지향하는 봇 개발과 거리가 있어 며칠 쓰다가 **node-cron으로 옮겨갔습니다.**

**배운 점:**

- Serverless 아키텍처에 대한 이해도가 생겼습니다.
- 비용 효율적인 서버 운영 방법을 고민하게 되었습니다.
- 하지만 모든 상황에 Lambda가 적합한 건 아니라는 것도 배웠습니다.

### 5) Cron 표현식을 알게 되었습니다

정기적인 알림 기능을 구현하기 위해 Cron 표현식을 배웠습니다.

**배운 점:**

- 스케줄링 개념을 이해하게 되었습니다.
- `node-cron`을 이용한 주기적 작업 처리 방법을 익혔습니다.
- 추후 개발하는 데 도움이 될 것 같습니다.

---

## 마인드적인 측면에서 배운 것들

### 1) 처음 쓰는 기술이더라도 시간을 좀 들이고 부딪혀보면 할 수 있겠다는 생각이 들었습니다

사실 discord.js의 사용법은 공식 문서에서 너무너무 불친절하게 설명되어 있어서 처음에는 포기할까 생각도 했습니다.

하지만 조금 인내심을 갖고 천천히 읽어보고 수많은 에러도 해결해가며 개발해보니 **할 만하다는 생각이 들었습니다.**

**깨달은 점:**

- 비단 Discord뿐만 아니라 AWS 같은 DevOps적인 측면들도 제가 겁을 낼 뿐이지 사실 너무 친절하게 잘 되어있다는 사실도 깨달았습니다.
- HTML 파싱도 재밌더라고요.
- **새로운 기술에 대한 두려움이 많이 줄었습니다.**

### 2) 내가 만든 결과물이 누군가에게 도움이 된다는 게 얼마나 기분 좋은 일인지 알게 되었습니다

![](2025-11-02-디스코드-봇-개발-회고.png)

물론 제 필요에 의해 만든 봇이지만, 공개를 결정한 이후 고민이 많았습니다.

- 제가 생각하지 못한 에러들이 발생되면 어떡하지?
- 혹시 완성도가 미흡해서 욕을 먹지는 않을까?
- 그냥 나 혼자 쓰는 게 더 낫지 않을까?


그러나 **공개 직후 수많은 댓글**과 "자기 서버에 데려가지 못해 아쉽다는 글", 그리고 "잘 쓰고 있어서 고맙다는 댓글"을 보면 참 기분이 좋아졌습니다.

**깨달은 점:**

- 완벽하지 않아도 괜찮습니다.
- 누군가에게 도움이 되는 것만으로도 충분히 가치가 있습니다.
- 사용자 피드백은 개발자에게 큰 동기부여가 됩니다.

### 3) 부족한 실력을 더 늘리고 싶다고 생각했습니다

봇을 개발하면서, "아, 이게 제가 개발하는 게 아니라 현역 개발자분들이 만드는 게 훨씬 더 빠르고 효율적이지 않을까?" 하는 고민도 참 많이 했습니다.

누군가에겐 한없이 작은 기능도 제겐 수많은 시행착오를 겪어야 하니까요.

**그래서 더 잘하고 싶어졌습니다.**

평소에는 여가 시간에 게임을 즐기곤 했는데, 봇 개발을 하다 보니 게임을 안 키는 날도 잦아졌습니다. 오히려 **기능 하나 더 추가하고 테스트해보는 게 더 재미있더라고요.**

**실력이 더 늘어나서, 더 많은 최신 기술들을 양껏 활용하면 얼마나 더 재밌을까** 라는 생각을 했습니다.

---

## 아쉬운 점

### 코드 품질

"일단 구현하고 나중에 리팩토링하자"는 생각으로 개발했는데, 결국 리팩토링을 제대로 하지 못했습니다.

**배운 점:**

- 처음부터 깔끔하게 짜는 게 나중에 유지보수하기 훨씬 쉽습니다.
- 기술 부채는 쌓이면 쌓일수록 해결하기 어렵습니다.

### 예외 처리

예상치 못한 입력값에 대한 처리를 제대로 하지 않아 봇이 멈추는 경우가 있었습니다.

**배운 점:**

- 사용자의 입력은 예측할 수 없습니다.
- 모든 기능에 try-catch를 적용하고 에러 로깅을 해야 합니다.
- 설계 단계에서부터 예외 처리를 고려해야 합니다.

---

## 마치며

### 얻은 것들

1. **기술적 성장**
    - 새로운 라이브러리, 새로운 플랫폼을 다루는 경험
    - 크롤링, 스케줄링, 서버 배포 등 다양한 기술 스택 습득
    - 에러 핸들링과 로깅의 중요성 체득
2. **마인드 변화**
    - 새로운 기술에 대한 두려움 감소
    - 누군가에게 도움이 되는 것의 기쁨
    - 더 잘하고 싶다는 동기부여
3. **실전 경험**
    - 실제 사용자를 대상으로 한 서비스 운영 경험
    - 예상치 못한 문제들을 해결하는 경험
    - 혼자서 기획부터 배포까지 전 과정을 진행하는 경험

### 앞으로의 계획

- 코드 리팩토링을 통한 유지보수성 개선
- 더 많은 기능 추가 (사용자 피드백 반영)
- 테스트 코드 작성
- 문서화 작업

이번 프로젝트를 통해 **"할 수 있을까?"에서 "할 수 있다"로** 마인드가 바뀌었습니다.

앞으로도 새로운 기술에 도전하고, 누군가에게 도움이 되는 결과물을 만들고 싶습니다.